## Проект ЯндексЛицей

### Тема проекта

Создание бота для мессенджера.

### Название проекта

Телеграм-бот рекомендаций.

### Автор проекта

Михаил Галета.
- - -

### Описание

Бот для мессенджера Telegram, который способен отправлять пользователю
новости. Новости должны быть персонализированными для конкретного
пользователя.
- - -

### Реализация

Почти что всё реализовано с помощью функций Python.

#### Взаимодействие с пользователем

Интерфейс состоит из нескольких экранов (названия - названия классов):

* /start - начальная обязательная команда
* /settings - команда настроек бота
* Получить новость - сообщение с клавиатуры пользователя
* "и др" - вспомогательные сообщения

#### Рекомендации

Рекомендации происходят с помощью характеристики текста по ключевым словам.
В процессе по количеству слов и оценки пользователя для той или иной
категории значения перемножаются и суммируются.

То есть если у новости оценки по пяти категориям 10,10,10,10,10; а у
пользователя по
соответственно эти же категориям оценки 2,2,2,2,2 то конечная сумма равна
10x2+10x2+10x2... Пользователю возвращается
новость ориентированная на него, из списка новостей выбирается с наибольшей
конечной оценкой.

#### Парсинг новостей

Парсинг происходит посредством прохода по спискам каналов и выборки
новостей за определённое время, эти новости модерируются, убирая рекламные
и другие ненужные посты.

#### Сортировка новостей по категориям

Текст каждой новости форматируется:убираются знаки препинания, стоп-слова,
кроме того каждое слова приводится к начальной форме.
На основе полученных слов получаем к какому/каким категориям относится
текст (выберутся топ-5 категорий).

---

### Технологии используемые в проекте

* python-telegram-bot - сам бот
* Telethon + asyncio - парсинг, требует файла session.session
* pymorphy2 - форматирование текста
* SQLAlchemy + psycopg2 + heroku PostgreSQL - БД и работа с ней
* APScheduler - планировка заданий бота
* другие вспомогательные библиотеки (см. requirements.txt)
 

#### Возможные проблемы

Возможны проблемы при установке пакета nltk_data а именно stopwords. При 
появлении ошибки в консоль Python введите "import nltk" (предполагается что 
nltk загружен из requirements.txt), затем "nltk.download('stopwords')". 
Далее переместите папку указанную после выполнения команды, куда и 
сохранился пакет в папку проекта в директорию venv/lib.site-packages